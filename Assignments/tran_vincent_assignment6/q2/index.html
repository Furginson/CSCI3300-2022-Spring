<!DOCTYPE html>

<!-- Vincent Tran -->
<!-- CSCI 3300-04 -->
<!-- Assignment 6, 4/10/2022 -->

<html lang="en">
    <head>
        <title>Vincent Tran's Olympic Judging Calculator</title>
        <meta charset="utf-8">
        <script>
            function getSmallestValue(anArray) {
                let min = anArray[0];
                for (let i = 0; i < anArray.length; i++) {
                    if (anArray[i] < min) {
                        min = anArray[i];
                    }
                }
                return min;
            }
            function getBiggestValue(anArray) {
                let biggest = anArray[0];
                for (let i = 0; i < anArray.length; i++) {
                    if (anArray[i] > biggest) {
                        biggest = anArray[i];
                    }
                }
                return biggest;
            }
            function getSum(anArray) {
                let sum = 0;
                for (let i = 0; i < anArray.length; i++) {
                    sum += anArray[i];
                }
                return sum;
            }
            function getUnbiasedAverage(anArray) {
                let average = 0;
                let unbiasedSum = 0;

                let max = getBiggestValue(anArray);
                let min = getSmallestValue(anArray);

                for (let i = 0; i < anArray.length; i++) {
                    if (anArray[i] == max) {
                        anArray.splice(i, 1);
                    }
                    if (anArray[i] == min) {
                        anArray.splice(i, 1);
                    }
                }

                unbiasedSum = getSum(anArray);
                average = unbiasedSum / anArray.length;

                return average;
            }
            function getInput() {
                let array = [];
                array.push(parseFloat(document.myform.a.value));
                array.push(parseFloat(document.myform.b.value));
                array.push(parseFloat(document.myform.c.value));
                array.push(parseFloat(document.myform.d.value));
                array.push(parseFloat(document.myform.e.value));
                array.push(parseFloat(document.myform.f.value));
                array.push(parseFloat(document.myform.g.value));
                array.push(parseFloat(document.myform.h.value));

                document.getElementById("results").innerHTML = "The judges' average score is " + getUnbiasedAverage(array).toFixed(2);
            }
        </script>
        <style>
            header, main, footer {
                text-align: center;
            }
            body {
                background-color: cornflowerblue;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>Vincent Tran's Olypmic Judging Calculator</h1>
            <hr>
            <br>
        </header>

        <main>
            <form name="myform" action="javascript:getInput()">
                <div>
                    <label for="a">County A Judge:</label>
                    <input type="text" name="a" id="a">
                </div>
                <div>
                    <label for="b">County B Judge:</label>
                    <input type="text" name="b" id="b">
                </div>
                <div>   
                    <label for="c">County C Judge:</label>
                    <input type="text" name="c" id="c">
                </div>
                <div>
                    <label for="d">County D Judge:</label>
                    <input type="text" name="d" id="d">
                </div>
                <div>
                    <label for="e">County E Judge:</label>
                    <input type="text" name="e" id="e">
                </div>
                <div>
                    <label for="f">County F Judge:</label>
                    <input type="text" name="f" id="f">
                </div>
                <div>
                    <label for="g">County G Judge:</label>
                    <input type="text" name="g" id="g">
                </div>
                <div>
                    <label for="h">County H Judge:</label>
                    <input type="text" name="h" id="h">
                </div>
                <input type="submit">
            </form>

            <br>

            <div id="results">

            </div>
        </main>

        <footer>
            <br>
            <hr>
            <p>Vincent Tran &copy; 2022</p>
        </footer>
    </body>
</html>